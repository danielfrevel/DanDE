<header class="sticky top-0 z-50 bg-amber-100/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-stone-200 dark:border-slate-800">
  <nav class="max-w-3xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
    <!-- Logo / Site Title -->
    <a href="/" class="font-semibold text-lg hover:text-amber-600 dark:hover:text-amber-400 transition-colors">
      {{ .Site.Title }}
    </a>

    <!-- Navigation -->
    <div class="flex items-center gap-6">
      <!-- Menu Links -->
      <ul class="hidden sm:flex items-center gap-6">
        {{ range .Site.Menus.main }}
          <li>
            <a href="{{ .URL }}"
               class="text-sm font-medium text-stone-500 dark:text-slate-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors {{ if $.IsMenuCurrent "main" . }}text-stone-800 dark:text-stone-100{{ end }}">
              {{ .Name }}
            </a>
          </li>
        {{ end }}
      </ul>

      <!-- Search Button -->
      <button id="search-button"
              type="button"
              class="p-2 text-stone-500 dark:text-slate-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors"
              aria-label="Search">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </button>

      <!-- Dark Mode Toggle -->
      <button id="theme-toggle"
              type="button"
              class="p-2 text-stone-500 dark:text-slate-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors"
              aria-label="Toggle dark mode">
        <!-- Sun icon (shown in dark mode) -->
        <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        <!-- Moon icon (shown in light mode) -->
        <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
        </svg>
      </button>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-button"
              type="button"
              class="sm:hidden p-2 text-stone-500 dark:text-slate-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors"
              aria-label="Toggle menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="hidden sm:hidden border-t border-stone-200 dark:border-slate-800">
    <ul class="px-4 py-3 space-y-2">
      {{ range .Site.Menus.main }}
        <li>
          <a href="{{ .URL }}"
             class="block py-2 text-stone-500 dark:text-slate-400 hover:text-amber-600 dark:hover:text-amber-400 transition-colors">
            {{ .Name }}
          </a>
        </li>
      {{ end }}
    </ul>
  </div>
</header>

<!-- Search Modal -->
<div id="search-modal" class="hidden fixed inset-0 z-50">
  <!-- Backdrop -->
  <div class="absolute inset-0 bg-black/50 backdrop-blur-sm" id="search-backdrop"></div>

  <!-- Modal Content -->
  <div class="relative max-w-2xl mx-auto mt-20 mx-4">
    <div class="bg-amber-50 dark:bg-slate-800 rounded-xl shadow-2xl overflow-hidden">
      <!-- Search Input -->
      <div class="p-4 border-b border-stone-200 dark:border-slate-700">
        <div id="search"></div>
      </div>
    </div>
  </div>
</div>
